!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).ScrollReveal=e()}(this,(function(){"use strict";var t={delay:0,distance:"0",duration:600,easing:"cubic-bezier(0.5, 0, 0, 1)",interval:0,opacity:0,origin:"bottom",rotate:{x:0,y:0,z:0},scale:1,cleanup:!1,container:document.documentElement,desktop:!0,mobile:!0,reset:!1,useDelay:"always",viewFactor:0,viewOffset:{top:0,right:0,bottom:0,left:0},afterReset:function(){},afterReveal:function(){},beforeReset:function(){},beforeReveal:function(){}};var e={success:function(){document.documentElement.classList.add("sr"),document.body?document.body.style.height="100%":document.addEventListener("DOMContentLoaded",(function(){document.body.style.height="100%"}))},failure:function(){return document.documentElement.classList.remove("sr"),{clean:function(){},destroy:function(){},reveal:function(){},sync:function(){},get noop(){return!0}}}};function i(t){return"object"==typeof window.Node?t instanceof window.Node:null!==t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName}function s(t,e){if(void 0===e&&(e=document),t instanceof Array)return t.filter(i);if(i(t))return[t];if(s=t,o=Object.prototype.toString.call(s),"object"==typeof window.NodeList?s instanceof window.NodeList:null!==s&&"object"==typeof s&&"number"==typeof s.length&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(o)&&(0===s.length||i(s[0])))return Array.prototype.slice.call(t);var s,o;if("string"==typeof t)try{var n=e.querySelectorAll(t);return Array.prototype.slice.call(n)}catch(r){return[]}return[]}function o(t){return null!==t&&t instanceof Object&&(t.constructor===Object||"[object Object]"===Object.prototype.toString.call(t))}function n(t,e){if(o(t))return Object.keys(t).forEach((function(i){return e(t[i],i,t)}));if(t instanceof Array)return t.forEach((function(i,s){return e(i,s,t)}));throw new TypeError("Expected either an array or object literal.")}function r(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];if(this.constructor.debug&&console){var s="%cScrollReveal: "+t;e.forEach((function(t){return s+="\n â€” "+t})),console.log(s,"color: #ea654b;")}}function a(){var t=this,e={active:[],stale:[]},i={active:[],stale:[]},o={active:[],stale:[]};try{n(s("[data-sr-id]"),(function(t){var i=parseInt(t.getAttribute("data-sr-id"));e.active.push(i)}))}catch(r){throw r}n(this.store.elements,(function(t){-1===e.active.indexOf(t.id)&&e.stale.push(t.id)})),n(e.stale,(function(e){return delete t.store.elements[e]})),n(this.store.elements,(function(t){-1===o.active.indexOf(t.containerId)&&o.active.push(t.containerId),t.hasOwnProperty("sequence")&&-1===i.active.indexOf(t.sequence.id)&&i.active.push(t.sequence.id)})),n(this.store.containers,(function(t){-1===o.active.indexOf(t.id)&&o.stale.push(t.id)})),n(o.stale,(function(e){var i=t.store.containers[e].node;i.removeEventListener("scroll",t.delegate),i.removeEventListener("resize",t.delegate),delete t.store.containers[e]})),n(this.store.sequences,(function(t){-1===i.active.indexOf(t.id)&&i.stale.push(t.id)})),n(i.stale,(function(e){return delete t.store.sequences[e]}))}function l(t){var e,i=this;try{n(s(t),(function(t){var s=t.getAttribute("data-sr-id");if(null!==s){e=!0;var o=i.store.elements[s];o.callbackTimer&&window.clearTimeout(o.callbackTimer.clock),t.setAttribute("style",o.styles.inline.generated),t.removeAttribute("data-sr-id"),delete i.store.elements[s]}}))}catch(o){return r.call(this,"Clean failed.",o.message)}if(e)try{a.call(this)}catch(o){return r.call(this,"Clean failed.",o.message)}}function h(){var t=this;n(this.store.elements,(function(t){t.node.setAttribute("style",t.styles.inline.generated),t.node.removeAttribute("data-sr-id")})),n(this.store.containers,(function(e){var i=e.node===document.documentElement?window:e.node;i.removeEventListener("scroll",t.delegate),i.removeEventListener("resize",t.delegate)})),this.store={containers:{},elements:{},history:[],sequences:{}}}function c(t){if(t.constructor!==Array)throw new TypeError("Expected array.");if(16===t.length)return t;if(6===t.length){var e=p();return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}throw new RangeError("Expected array with either 6 or 16 values.")}function p(){for(var t=[],e=0;e<16;e++)e%5==0?t.push(1):t.push(0);return t}function d(t,e){for(var i=c(t),s=c(e),o=[],n=0;n<4;n++)for(var r=[i[n],i[n+4],i[n+8],i[n+12]],a=0;a<4;a++){var l=4*a,h=[s[l],s[l+1],s[l+2],s[l+3]],p=r[0]*h[0]+r[1]*h[1]+r[2]*h[2]+r[3]*h[3];o[n+l]=p}return o}function u(t){if("string"==typeof t){var e=t.match(/matrix(3d)?\(([^)]+)\)/);if(e)return c(e[2].split(", ").map(parseFloat))}return p()}function f(t,e){var i=p();return i[0]=t,i[5]="number"==typeof e?e:t,i}var m=function(){var t={},e=document.documentElement.style;function i(i,s){if(void 0===s&&(s=e),i&&"string"==typeof i){if(t[i])return t[i];if("string"==typeof s[i])return t[i]=i;if("string"==typeof s["-webkit-"+i])return t[i]="-webkit-"+i;throw new RangeError('Unable to find "'+i+'" style property.')}throw new TypeError("Expected a string.")}return i.clearCache=function(){return t={}},i}();function v(t){var e=window.getComputedStyle(t.node),i=e.position,s=t.config,o={},n=(t.node.getAttribute("style")||"").match(/[\w-]+\s*:\s*[^;]+\s*/gi)||[];o.computed=n?n.map((function(t){return t.trim()})).join("; ")+";":"",o.generated=n.some((function(t){return t.match(/visibility\s?:\s?visible/i)}))?o.computed:n.concat(["visibility: visible"]).map((function(t){return t.trim()})).join("; ")+";";var r,a,l,h=parseFloat(e.opacity),c=isNaN(parseFloat(s.opacity))?parseFloat(e.opacity):parseFloat(s.opacity),v={computed:h!==c?"opacity: "+h+";":"",generated:h!==c?"opacity: "+c+";":""},g=[];if(parseFloat(s.distance)){var y="top"===s.origin||"bottom"===s.origin?"Y":"X",b=s.distance;"top"!==s.origin&&"left"!==s.origin||(b=/^-/.test(b)?b.substr(1):"-"+b);var w=b.match(/(^-?\d+\.?\d?)|(em$|px$|%$)/g),x=w[0];switch(w[1]){case"em":b=parseInt(e.fontSize)*x;break;case"px":b=x;break;case"%":b="Y"===y?t.node.getBoundingClientRect().height*x/100:t.node.getBoundingClientRect().width*x/100;break;default:throw new RangeError("Unrecognized or missing distance unit.")}"Y"===y?g.push(function(t){var e=p();return e[13]=t,e}(b)):g.push(function(t){var e=p();return e[12]=t,e}(b))}s.rotate.x&&g.push((r=s.rotate.x,a=Math.PI/180*r,(l=p())[5]=l[10]=Math.cos(a),l[6]=l[9]=Math.sin(a),l[9]*=-1,l)),s.rotate.y&&g.push(function(t){var e=Math.PI/180*t,i=p();return i[0]=i[10]=Math.cos(e),i[2]=i[8]=Math.sin(e),i[2]*=-1,i}(s.rotate.y)),s.rotate.z&&g.push(function(t){var e=Math.PI/180*t,i=p();return i[0]=i[5]=Math.cos(e),i[1]=i[4]=Math.sin(e),i[4]*=-1,i}(s.rotate.z)),1!==s.scale&&(0===s.scale?g.push(f(2e-4)):g.push(f(s.scale)));var S={};if(g.length){S.property=m("transform"),S.computed={raw:e[S.property],matrix:u(e[S.property])},g.unshift(S.computed.matrix);var T=g.reduce(d);S.generated={initial:S.property+": matrix3d("+T.join(", ")+");",final:S.property+": matrix3d("+S.computed.matrix.join(", ")+");"}}else S.generated={initial:"",final:""};var E={};if(v.generated||S.generated.initial){E.property=m("transition"),E.computed=e[E.property],E.fragments=[];var P=s.delay,k=s.duration,X=s.easing;v.generated&&E.fragments.push({delayed:"opacity "+k/1e3+"s "+X+" "+P/1e3+"s",instant:"opacity "+k/1e3+"s "+X+" 0s"}),S.generated.initial&&E.fragments.push({delayed:S.property+" "+k/1e3+"s "+X+" "+P/1e3+"s",instant:S.property+" "+k/1e3+"s "+X+" 0s"}),E.computed&&!E.computed.match(/all 0s|none 0s/)&&E.fragments.unshift({delayed:E.computed,instant:E.computed});var Y=E.fragments.reduce((function(t,e,i){return t.delayed+=0===i?e.delayed:", "+e.delayed,t.instant+=0===i?e.instant:", "+e.instant,t}),{delayed:"",instant:""});E.generated={delayed:E.property+": "+Y.delayed+";",instant:E.property+": "+Y.instant+";"}}else E.generated={delayed:"",instant:""};return{inline:o,opacity:v,position:i,transform:S,transition:E}}function g(t,e){void 0===e&&(e={});var i=e.pristine||this.pristine,s="always"===t.config.useDelay||"onload"===t.config.useDelay&&i||"once"===t.config.useDelay&&!t.seen,o=t.visible&&!t.revealed,n=!t.visible&&t.revealed&&t.config.reset;return e.reveal||o?y.call(this,t,s):e.reset||n?b.call(this,t):void 0}function y(t,e){var i=[t.styles.inline.generated,t.styles.opacity.computed,t.styles.transform.generated.final];e?i.push(t.styles.transition.generated.delayed):i.push(t.styles.transition.generated.instant),t.revealed=t.seen=!0,t.node.setAttribute("style",i.filter((function(t){return""!==t})).join(" ")),w.call(this,t,e)}function b(t){var e=[t.styles.inline.generated,t.styles.opacity.generated,t.styles.transform.generated.initial,t.styles.transition.generated.instant];t.revealed=!1,t.node.setAttribute("style",e.filter((function(t){return""!==t})).join(" ")),w.call(this,t)}function w(t,e){var i=this,s=e?t.config.duration+t.config.delay:t.config.duration,o=t.revealed?t.config.beforeReveal:t.config.beforeReset,n=t.revealed?t.config.afterReveal:t.config.afterReset,r=0;t.callbackTimer&&(r=Date.now()-t.callbackTimer.start,window.clearTimeout(t.callbackTimer.clock)),o(t.node),t.callbackTimer={start:Date.now(),clock:window.setTimeout((function(){n(t.node),t.callbackTimer=null,t.revealed&&!t.config.reset&&t.config.cleanup&&l.call(i,t.node)}),s-r)}}var x,S=(x=0,function(){return x++});function T(t,e){if(void 0===e&&(e=this.pristine),!t.visible&&t.revealed&&t.config.reset)return g.call(this,t,{reset:!0});var i=this.store.sequences[t.sequence.id],s=t.sequence.index;if(i){var o=new P(i,"visible",this.store),n=new P(i,"revealed",this.store);if(i.models={visible:o,revealed:n},!n.body.length){var r=i.members[o.body[0]],a=this.store.elements[r];if(a)return k.call(this,i,o.body[0],-1,e),k.call(this,i,o.body[0],1,e),g.call(this,a,{reveal:!0,pristine:e})}if(!i.blocked.head&&s===[].concat(n.head).pop()&&s>=[].concat(o.body).shift())return k.call(this,i,s,-1,e),g.call(this,t,{reveal:!0,pristine:e});if(!i.blocked.foot&&s===[].concat(n.foot).shift()&&s<=[].concat(o.body).pop())return k.call(this,i,s,1,e),g.call(this,t,{reveal:!0,pristine:e})}}function E(t){var e=Math.abs(t);if(isNaN(e))throw new RangeError("Invalid sequence interval.");this.id=S(),this.interval=Math.max(e,16),this.members=[],this.models={},this.blocked={head:!1,foot:!1}}function P(t,e,i){var s=this;this.head=[],this.body=[],this.foot=[],n(t.members,(function(t,o){var n=i.elements[t];n&&n[e]&&s.body.push(o)})),this.body.length&&n(t.members,(function(t,o){var n=i.elements[t];n&&!n[e]&&(o<s.body[0]?s.head.push(o):s.foot.push(o))}))}function k(t,e,i,s){var o=this,n=["head",null,"foot"][1+i],r=t.members[e+i],a=this.store.elements[r];t.blocked[n]=!0,setTimeout((function(){t.blocked[n]=!1,a&&T.call(o,a,s)}),t.interval)}function X(){var t=this;a.call(this),n(this.store.elements,(function(t){var e=[t.styles.inline.generated];t.visible?(e.push(t.styles.opacity.computed),e.push(t.styles.transform.generated.final),t.revealed=!0):(e.push(t.styles.opacity.generated),e.push(t.styles.transform.generated.initial),t.revealed=!1),t.node.setAttribute("style",e.filter((function(t){return""!==t})).join(" "))})),n(this.store.containers,(function(e){var i=e.node===document.documentElement?window:e.node;i.addEventListener("scroll",t.delegate),i.addEventListener("resize",t.delegate)})),this.delegate(),this.initTimeout=null}function Y(t){return void 0===t&&(t=navigator.userAgent),/Android|iPhone|iPad|iPod/i.test(t)}function _(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];if(o(t))return n(e,(function(e){n(e,(function(e,i){o(e)?(t[i]&&o(t[i])||(t[i]={}),_(t[i],e)):t[i]=e}))})),t;throw new TypeError("Target must be an object literal.")}function H(e,i,o){var a=this;void 0===i&&(i={}),void 0===o&&(o=!1);var h,c=[],p=i.interval||t.interval;try{p&&(h=new E(p));var d=s(e);if(!d.length)throw new Error("Invalid reveal target.");var u=d.reduce((function(t,e){var o={},r=e.getAttribute("data-sr-id");r?(_(o,a.store.elements[r]),o.node.setAttribute("style",o.styles.inline.computed)):(o.id=S(),o.node=e,o.seen=!1,o.revealed=!1,o.visible=!1);var p=_({},o.config||a.defaults,i);if(!p.mobile&&Y()||!p.desktop&&!Y())return r&&l.call(a,o),t;var d,u=s(p.container)[0];if(!u)throw new Error("Invalid container.");return u.contains(e)?(null===(d=function(t){var e=[],i=arguments.length-1;for(;i-- >0;)e[i]=arguments[i+1];var s=null;return n(e,(function(e){n(e,(function(e){null===s&&e.node===t&&(s=e.id)}))})),s}(u,c,a.store.containers))&&(d=S(),c.push({id:d,node:u})),o.config=p,o.containerId=d,o.styles=v(o),h&&(o.sequence={id:h.id,index:h.members.length},h.members.push(o.id)),t.push(o),t):t}),[]);n(u,(function(t){a.store.elements[t.id]=t,t.node.setAttribute("data-sr-id",t.id)}))}catch(f){return r.call(this,"Reveal failed.",f.message)}n(c,(function(t){a.store.containers[t.id]={id:t.id,node:t.node}})),h&&(this.store.sequences[h.id]=h),!0!==o&&(this.store.history.push({target:e,options:i}),this.initTimeout&&window.clearTimeout(this.initTimeout),this.initTimeout=window.setTimeout(X.bind(this),0))}function W(){var t=this;n(this.store.history,(function(e){H.call(t,e.target,e.options,!0)})),X.call(this)}var z,A=Math.sign||function(t){return(t>0)-(t<0)||+t},I=(z=Date.now(),function(t){var e=Date.now();e-z>16?(z=e,t(e)):setTimeout((function(){return I(t)}),0)}),D=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||I;function M(t,e){var i=e?t.node.clientHeight:t.node.offsetHeight,s=e?t.node.clientWidth:t.node.offsetWidth,o=0,n=0,r=t.node;do{isNaN(r.offsetTop)||(o+=r.offsetTop),isNaN(r.offsetLeft)||(n+=r.offsetLeft),r=r.offsetParent}while(r);return{bounds:{top:o,right:n+s,bottom:o+i,left:n},height:i,width:s}}function O(t){var e,i;return t.node===document.documentElement?(e=window.pageYOffset,i=window.pageXOffset):(e=t.node.scrollTop,i=t.node.scrollLeft),{top:e,left:i}}function L(t){void 0===t&&(t={});var e=this.store.containers[t.containerId];if(e){var i=Math.max(0,Math.min(1,t.config.viewFactor)),s=t.config.viewOffset,o=t.geometry.bounds.top+t.geometry.height*i,n=t.geometry.bounds.right-t.geometry.width*i,r=t.geometry.bounds.bottom-t.geometry.height*i,a=t.geometry.bounds.left+t.geometry.width*i,l=e.geometry.bounds.top+e.scroll.top+s.top,h=e.geometry.bounds.right+e.scroll.left-s.right,c=e.geometry.bounds.bottom+e.scroll.top-s.bottom,p=e.geometry.bounds.left+e.scroll.left+s.left;return o<c&&n>p&&r>l&&a<h||"fixed"===t.styles.position}}function B(t,e){var i=this;void 0===t&&(t={type:"init"}),void 0===e&&(e=this.store.elements),D((function(){var s="init"===t.type||"resize"===t.type;n(i.store.containers,(function(t){s&&(t.geometry=M.call(i,t,!0));var e=O.call(i,t);t.scroll&&(t.direction={x:A(e.left-t.scroll.left),y:A(e.top-t.scroll.top)}),t.scroll=e})),n(e,(function(t){s&&(t.geometry=M.call(i,t)),t.visible=L.call(i,t)})),n(e,(function(t){t.sequence?T.call(i,t):g.call(i,t)})),i.pristine=!1}))}var C,R,j,q,N,F,V,U;function K(i){var o;if(void 0===i&&(i={}),void 0===this||Object.getPrototypeOf(this)!==K.prototype)return new K(i);if(!K.isSupported())return r.call(this,"Instantiation failed.","This browser is not supported."),e.failure();try{o=_({},F||t,i)}catch(n){return r.call(this,"Invalid configuration.",n.message),e.failure()}try{if(!s(o.container)[0])throw new Error("Invalid container.")}catch(n){return r.call(this,n.message),e.failure()}return!(F=o).mobile&&Y()||!F.desktop&&!Y()?(r.call(this,"This device is disabled.","desktop: "+F.desktop,"mobile: "+F.mobile),e.failure()):(e.success(),this.store={containers:{},elements:{},history:[],sequences:{}},this.pristine=!0,C=C||B.bind(this),R=R||h.bind(this),j=j||H.bind(this),q=q||l.bind(this),N=N||W.bind(this),Object.defineProperty(this,"delegate",{get:function(){return C}}),Object.defineProperty(this,"destroy",{get:function(){return R}}),Object.defineProperty(this,"reveal",{get:function(){return j}}),Object.defineProperty(this,"clean",{get:function(){return q}}),Object.defineProperty(this,"sync",{get:function(){return N}}),Object.defineProperty(this,"defaults",{get:function(){return F}}),Object.defineProperty(this,"version",{get:function(){return"4.0.6"}}),Object.defineProperty(this,"noop",{get:function(){return!1}}),U||(U=this))}return K.isSupported=function(){return function(){var t=document.documentElement.style;return"transform"in t||"WebkitTransform"in t}()&&function(){var t=document.documentElement.style;return"transition"in t||"WebkitTransition"in t}()},Object.defineProperty(K,"debug",{get:function(){return V||!1},set:function(t){return V="boolean"==typeof t?t:V}}),K(),K})),function(t,e,i){var s=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},o=function(){var s={},o=e.createElement("div").style,n=function(){for(var t=["t","webkitT","MozT","msT","OT"],e=0,i=t.length;e<i;e++)if(t[e]+"ransform"in o)return t[e].substr(0,t[e].length-1);return!1}();function r(t){return!1!==n&&(""===n?t:n+t.charAt(0).toUpperCase()+t.substr(1))}s.getTime=Date.now||function(){return(new Date).getTime()},s.extend=function(t,e){for(var i in e)t[i]=e[i]},s.addEvent=function(t,e,i,s){t.addEventListener(e,i,!!s)},s.removeEvent=function(t,e,i,s){t.removeEventListener(e,i,!!s)},s.prefixPointerEvent=function(e){return t.MSPointerEvent?"MSPointer"+e.charAt(7).toUpperCase()+e.substr(8):e},s.momentum=function(t,e,s,o,n,r){var a,l,h=t-e,c=i.abs(h)/s;return l=c/(r=void 0===r?6e-4:r),(a=t+c*c/(2*r)*(h<0?-1:1))<o?(a=n?o-n/2.5*(c/8):o,l=(h=i.abs(a-t))/c):0<a&&(a=n?n/2.5*(c/8):0,l=(h=i.abs(t)+a)/c),{destination:i.round(a),duration:l}};var a=r("transform");return s.extend(s,{hasTransform:!1!==a,hasPerspective:r("perspective")in o,hasTouch:"ontouchstart"in t,hasPointer:!(!t.PointerEvent&&!t.MSPointerEvent),hasTransition:r("transition")in o}),s.isBadAndroid=function(){var e=t.navigator.appVersion;if(!/Android/.test(e)||/Chrome\/\d/.test(e))return!1;var i=e.match(/Safari\/(\d+.\d)/);return!(i&&"object"==typeof i&&2<=i.length)||parseFloat(i[1])<535.19}(),s.extend(s.style={},{transform:a,transitionTimingFunction:r("transitionTimingFunction"),transitionDuration:r("transitionDuration"),transitionDelay:r("transitionDelay"),transformOrigin:r("transformOrigin")}),s.hasClass=function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},s.addClass=function(t,e){if(!s.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},s.removeClass=function(t,e){if(s.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},s.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},s.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},s.extend(s.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),s.extend(s.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return i.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){return(t-=1)*t*(5*t+4)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){return 0===t?0:1==t?1:.4*i.pow(2,-10*t)*i.sin((t-.055)*(2*i.PI)/.22)+1}}}),s.tap=function(t,i){var s=e.createEvent("Event");s.initEvent(i,!0,!0),s.pageX=t.pageX,s.pageY=t.pageY,t.target.dispatchEvent(s)},s.click=function(i){var s,o=i.target;/(SELECT|INPUT|TEXTAREA)/i.test(o.tagName)||((s=e.createEvent(t.MouseEvent?"MouseEvents":"Event")).initEvent("click",!0,!0),s.view=i.view||t,s.detail=1,s.screenX=o.screenX||0,s.screenY=o.screenY||0,s.clientX=o.clientX||0,s.clientY=o.clientY||0,s.ctrlKey=!!i.ctrlKey,s.altKey=!!i.altKey,s.shiftKey=!!i.shiftKey,s.metaKey=!!i.metaKey,s.button=0,s.relatedTarget=null,s._constructed=!0,o.dispatchEvent(s))},s}();function n(i,s){for(var n in this.wrapper="string"==typeof i?e.querySelector(i):i,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!o.hasPointer,disableTouch:o.hasPointer||!o.hasTouch,disableMouse:o.hasPointer||o.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|LABEL)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===t.onmousedown},s)this.options[n]=s[n];this.translateZ=this.options.HWCompositing&&o.hasPerspective?" translateZ(0)":"",this.options.useTransition=o.hasTransition&&this.options.useTransition,this.options.useTransform=o.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?o.ease[this.options.bounceEasing]||o.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function r(t,i,s){var o=e.createElement("div"),n=e.createElement("div");return!0===s&&(o.style.cssText="position:absolute;z-index:9999",n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),n.className="iScrollIndicator",o.className="h"==t?(!0===s&&(o.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",n.style.height="100%"),"iScrollHorizontalScrollbar"):(!0===s&&(o.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",n.style.width="100%"),"iScrollVerticalScrollbar"),o.style.cssText+=";overflow:hidden",i||(o.style.pointerEvents="none"),o.appendChild(n),o}function a(i,n){for(var r in this.wrapper="string"==typeof n.el?e.querySelector(n.el):n.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=i,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},n)this.options[r]=n[r];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(o.addEvent(this.indicator,"touchstart",this),o.addEvent(t,"touchend",this)),this.options.disablePointer||(o.addEvent(this.indicator,o.prefixPointerEvent("pointerdown"),this),o.addEvent(t,o.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(o.addEvent(this.indicator,"mousedown",this),o.addEvent(t,"mouseup",this))),this.options.fade){this.wrapperStyle[o.style.transform]=this.scroller.translateZ;var a=o.style.transitionDuration;if(!a)return;this.wrapperStyle[a]=o.isBadAndroid?"0.0001ms":"0ms";var l=this;o.isBadAndroid&&s((function(){"0.0001ms"===l.wrapperStyle[a]&&(l.wrapperStyle[a]="0s")})),this.wrapperStyle.opacity="0"}}n.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if((1==o.eventType[t.type]||0===(t.which?t.button:t.button<2?0:4==t.button?1:2))&&this.enabled&&(!this.initiated||o.eventType[t.type]===this.initiated)){!this.options.preventDefault||o.isBadAndroid||o.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,s=t.touches?t.touches[0]:t;this.initiated=o.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=o.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=s.pageX,this.pointY=s.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&o.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,s,n,r,a=t.touches?t.touches[0]:t,l=a.pageX-this.pointX,h=a.pageY-this.pointY,c=o.getTime();if(this.pointX=a.pageX,this.pointY=a.pageY,this.distX+=l,this.distY+=h,n=i.abs(this.distX),r=i.abs(this.distY),!(300<c-this.endTime&&n<10&&r<10)){if(this.directionLocked||this.options.freeScroll||(n>r+this.options.directionLockThreshold?this.directionLocked="h":r>=n+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);h=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}l=this.hasHorizontalScroll?l:0,h=this.hasVerticalScroll?h:0,e=this.x+l,s=this.y+h,(0<e||e<this.maxScrollX)&&(e=this.options.bounce?this.x+l/3:0<e?0:this.maxScrollX),(0<s||s<this.maxScrollY)&&(s=this.options.bounce?this.y+h/3:0<s?0:this.maxScrollY),this.directionX=0<l?-1:l<0?1:0,this.directionY=0<h?-1:h<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,s),300<c-this.startTime&&(this.startTime=c,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&o.eventType[t.type]===this.initiated){this.options.preventDefault&&!o.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault(),t.changedTouches&&t.changedTouches[0];var e,s,n=o.getTime()-this.startTime,r=i.round(this.x),a=i.round(this.y),l=i.abs(r-this.startX),h=i.abs(a-this.startY),c=0,p="";if(this.isInTransition=0,this.initiated=0,this.endTime=o.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(r,a),!this.moved)return this.options.tap&&o.tap(t,this.options.tap),this.options.click&&o.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&n<200&&l<100&&h<100)this._execEvent("flick");else{if(this.options.momentum&&n<300&&(e=this.hasHorizontalScroll?o.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:r,duration:0},s=this.hasVerticalScroll?o.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:a,duration:0},r=e.destination,a=s.destination,c=i.max(e.duration,s.duration),this.isInTransition=1),this.options.snap){var d=this._nearestSnap(r,a);this.currentPage=d,c=this.options.snapSpeed||i.max(i.max(i.min(i.abs(r-d.x),1e3),i.min(i.abs(a-d.y),1e3)),300),r=d.x,a=d.y,this.directionX=0,this.directionY=0,p=this.options.bounceEasing}if(r!=this.x||a!=this.y)return(0<r||r<this.maxScrollX||0<a||a<this.maxScrollY)&&(p=o.ease.quadratic),void this.scrollTo(r,a,c,p);this._execEvent("scrollEnd")}}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){t.refresh()}),this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||0<this.x?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||0<this.y?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=o.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);-1<i&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,s){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,s)},scrollTo:function(t,e,i,s){s=s||o.ease.circular,this.isInTransition=this.options.useTransition&&0<i;var n=this.options.useTransition&&s.style;!i||n?(n&&(this._transitionTimingFunction(s.style),this._transitionTime(i)),this._translate(t,e)):this._animate(t,e,i,s.fn)},scrollToElement:function(t,e,s,n,r){if(t=t.nodeType?t:this.scroller.querySelector(t)){var a=o.offset(t);a.left-=this.wrapperOffset.left,a.top-=this.wrapperOffset.top,!0===s&&(s=i.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===n&&(n=i.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),a.left-=s||0,a.top-=n||0,a.left=0<a.left?0:a.left<this.maxScrollX?this.maxScrollX:a.left,a.top=0<a.top?0:a.top<this.maxScrollY?this.maxScrollY:a.top,e=null==e||"auto"===e?i.max(i.abs(this.x-a.left),i.abs(this.y-a.top)):e,this.scrollTo(a.left,a.top,e,r)}},_transitionTime:function(t){if(this.options.useTransition){t=t||0;var e=o.style.transitionDuration;if(e){if(this.scrollerStyle[e]=t+"ms",!t&&o.isBadAndroid){this.scrollerStyle[e]="0.0001ms";var i=this;s((function(){"0.0001ms"===i.scrollerStyle[e]&&(i.scrollerStyle[e]="0s")}))}if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].transitionTime(t)}}},_transitionTimingFunction:function(t){if(this.scrollerStyle[o.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[o.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=i.round(t),e=i.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var s=this.indicators.length;s--;)this.indicators[s].updatePosition()},_initEvents:function(e){var i=e?o.removeEvent:o.addEvent,s=this.options.bindToWrapper?this.wrapper:t;i(t,"orientationchange",this),i(t,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(s,"mousemove",this),i(s,"mousecancel",this),i(s,"mouseup",this)),o.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,o.prefixPointerEvent("pointerdown"),this),i(s,o.prefixPointerEvent("pointermove"),this),i(s,o.prefixPointerEvent("pointercancel"),this),i(s,o.prefixPointerEvent("pointerup"),this)),o.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(s,"touchmove",this),i(s,"touchcancel",this),i(s,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,i,s=t.getComputedStyle(this.scroller,null);return i=this.options.useTransform?(e=+((s=s[o.style.transform].split(")")[0].split(", "))[12]||s[4]),+(s[13]||s[5])):(e=+s.left.replace(/[^-\d.]/g,""),+s.top.replace(/[^-\d.]/g,"")),{x:e,y:i}},_initIndicators:function(){var t,e=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,s=[],o=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:r("v",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(t.el),s.push(t)),this.options.scrollX&&(t={el:r("h",e,this.options.scrollbars),interactive:e,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(t.el),s.push(t))),this.options.indicators&&(s=s.concat(this.options.indicators));for(var n=s.length;n--;)this.indicators.push(new a(this,s[n]));function l(t){if(o.indicators)for(var e=o.indicators.length;e--;)t.call(o.indicators[e])}this.options.fadeScrollbars&&(this.on("scrollEnd",(function(){l((function(){this.fade()}))})),this.on("scrollCancel",(function(){l((function(){this.fade()}))})),this.on("scrollStart",(function(){l((function(){this.fade(1)}))})),this.on("beforeScrollStart",(function(){l((function(){this.fade(1,!0)}))}))),this.on("refresh",(function(){l((function(){this.refresh()}))})),this.on("destroy",(function(){l((function(){this.destroy()})),delete this.indicators}))},_initWheel:function(){o.addEvent(this.wrapper,"wheel",this),o.addEvent(this.wrapper,"mousewheel",this),o.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",(function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,o.removeEvent(this.wrapper,"wheel",this),o.removeEvent(this.wrapper,"mousewheel",this),o.removeEvent(this.wrapper,"DOMMouseScroll",this)}))},_wheel:function(e){if(this.enabled){t.navigator.userAgent.match(/(MSIE|Trident)/)||e.preventDefault();var s,o,n,r,a=this;if(void 0===this.wheelTimeout&&a._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout((function(){a.options.snap||a._execEvent("scrollEnd"),a.wheelTimeout=void 0}),400),"deltaX"in e)o=1===e.deltaMode?(s=-e.deltaX*this.options.mouseWheelSpeed,-e.deltaY*this.options.mouseWheelSpeed):(s=-e.deltaX,-e.deltaY);else if("wheelDeltaX"in e)s=e.wheelDeltaX/120*this.options.mouseWheelSpeed,o=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)s=o=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;s=o=-e.detail/3*this.options.mouseWheelSpeed}if(s*=this.options.invertWheelDirection,o*=this.options.invertWheelDirection,this.hasVerticalScroll||(s=o,o=0),this.options.snap)return n=this.currentPage.pageX,r=this.currentPage.pageY,0<s?n--:s<0&&n++,0<o?r--:o<0&&r++,void this.goToPage(n,r);n=this.x+i.round(this.hasHorizontalScroll?s:0),r=this.y+i.round(this.hasVerticalScroll?o:0),this.directionX=0<s?-1:s<0?1:0,this.directionY=0<o?-1:o<0?1:0,0<n?n=0:n<this.maxScrollX&&(n=this.maxScrollX),0<r?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(n,r,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",(function(){var t,e,s,o,n,r,a=0,l=0,h=0,c=this.options.snapStepX||this.wrapperWidth,p=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(s=i.round(c/2),o=i.round(p/2);h>-this.scrollerWidth;){for(this.pages[a]=[],n=t=0;n>-this.scrollerHeight;)this.pages[a][t]={x:i.max(h,this.maxScrollX),y:i.max(n,this.maxScrollY),width:c,height:p,cx:h-s,cy:n-o},n-=p,t++;h-=c,a++}else for(t=(r=this.options.snap).length,e=-1;a<t;a++)(0===a||r[a].offsetLeft<=r[a-1].offsetLeft)&&(l=0,e++),this.pages[l]||(this.pages[l]=[]),h=i.max(-r[a].offsetLeft,this.maxScrollX),n=i.max(-r[a].offsetTop,this.maxScrollY),s=h-i.round(r[a].offsetWidth/2),o=n-i.round(r[a].offsetHeight/2),this.pages[l][e]={x:h,y:n,width:r[a].offsetWidth,height:r[a].offsetHeight,cx:s,cy:o},h>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}})),this.on("flick",(function(){var t=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)}))},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var s=0,o=this.pages.length,n=0;if(i.abs(t-this.absStartX)<this.snapThresholdX&&i.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(0<t?t=0:t<this.maxScrollX&&(t=this.maxScrollX),0<e?e=0:e<this.maxScrollY&&(e=this.maxScrollY);s<o;s++)if(t>=this.pages[s][0].cx){t=this.pages[s][0].x;break}for(o=this.pages[s].length;n<o;n++)if(e>=this.pages[0][n].cy){e=this.pages[0][n].y;break}return s==this.currentPage.pageX&&((s+=this.directionX)<0?s=0:s>=this.pages.length&&(s=this.pages.length-1),t=this.pages[s][0].x),n==this.currentPage.pageY&&((n+=this.directionY)<0?n=0:n>=this.pages[0].length&&(n=this.pages[0].length-1),e=this.pages[0][n].y),{x:t,y:e,pageX:s,pageY:n}},goToPage:function(t,e,s,o){o=o||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var n=this.pages[t][e].x,r=this.pages[t][e].y;s=void 0===s?this.options.snapSpeed||i.max(i.max(i.min(i.abs(n-this.x),1e3),i.min(i.abs(r-this.y),1e3)),300):s,this.currentPage={x:n,y:r,pageX:t,pageY:e},this.scrollTo(n,r,s,o)},next:function(t,e){var i=this.currentPage.pageX,s=this.currentPage.pageY;++i>=this.pages.length&&this.hasVerticalScroll&&(i=0,s++),this.goToPage(i,s,t,e)},prev:function(t,e){var i=this.currentPage.pageX,s=this.currentPage.pageY;--i<0&&this.hasVerticalScroll&&(i=0,s--),this.goToPage(i,s,t,e)},_initKeys:function(e){var i,s={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(i in this.options.keyBindings)"string"==typeof this.options.keyBindings[i]&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in s)this.options.keyBindings[i]=this.options.keyBindings[i]||s[i];o.addEvent(t,"keydown",this),this.on("destroy",(function(){o.removeEvent(t,"keydown",this)}))},_key:function(t){if(this.enabled){var e,s=this.options.snap,n=s?this.currentPage.pageX:this.x,r=s?this.currentPage.pageY:this.y,a=o.getTime(),l=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1),this.keyAcceleration=a-l<200?i.min(this.keyAcceleration+.25,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=s?1:this.wrapperWidth:r+=s?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=s?1:this.wrapperWidth:r-=s?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=s?this.pages.length-1:this.maxScrollX,r=s?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:r=n=0;break;case this.options.keyBindings.left:n+=s?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:r+=s?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=s?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:r-=s?1:5+this.keyAcceleration>>0;break;default:return}s?this.goToPage(n,r):(0<n?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),0<r?(r=0,this.keyAcceleration=0):r<this.maxScrollY&&(r=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,r,0),this.keyTime=a)}},_animate:function(t,e,i,n){var r=this,a=this.x,l=this.y,h=o.getTime(),c=h+i;this.isAnimating=!0,function p(){var d,u,f,m=o.getTime();if(c<=m)return r.isAnimating=!1,r._translate(t,e),void(r.resetPosition(r.options.bounceTime)||r._execEvent("scrollEnd"));f=n(m=(m-h)/i),d=(t-a)*f+a,u=(e-l)*f+l,r._translate(d,u),r.isAnimating&&s(p)}()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":this.enabled&&!t._constructed&&(t.preventDefault(),t.stopPropagation())}}},a.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(o.removeEvent(this.indicator,"touchstart",this),o.removeEvent(this.indicator,o.prefixPointerEvent("pointerdown"),this),o.removeEvent(this.indicator,"mousedown",this),o.removeEvent(t,"touchmove",this),o.removeEvent(t,o.prefixPointerEvent("pointermove"),this),o.removeEvent(t,"mousemove",this),o.removeEvent(t,"touchend",this),o.removeEvent(t,o.prefixPointerEvent("pointerup"),this),o.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var i=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=o.getTime(),this.options.disableTouch||o.addEvent(t,"touchmove",this),this.options.disablePointer||o.addEvent(t,o.prefixPointerEvent("pointermove"),this),this.options.disableMouse||o.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,i,s,n,r=t.touches?t.touches[0]:t;o.getTime(),this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=r.pageX-this.lastPointX,this.lastPointX=r.pageX,i=r.pageY-this.lastPointY,this.lastPointY=r.pageY,s=this.x+e,n=this.y+i,this._pos(s,n),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),o.removeEvent(t,"touchmove",this),o.removeEvent(t,o.prefixPointerEvent("pointermove"),this),o.removeEvent(t,"mousemove",this),this.scroller.options.snap){var s=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-s.x),1e3),i.min(i.abs(this.scroller.y-s.y),1e3)),300);this.scroller.x==s.x&&this.scroller.y==s.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=s,this.scroller.scrollTo(s.x,s.y,n,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0;var e=o.style.transitionDuration;if(e&&(this.indicatorStyle[e]=t+"ms",!t&&o.isBadAndroid)){this.indicatorStyle[e]="0.0001ms";var i=this;s((function(){"0.0001ms"===i.indicatorStyle[e]&&(i.indicatorStyle[e]="0s")}))}},transitionTimingFunction:function(t){this.indicatorStyle[o.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(o.addClass(this.wrapper,"iScrollBothScrollbars"),o.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(o.removeClass(this.wrapper,"iScrollBothScrollbars"),o.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px")),this.wrapper.offsetHeight,this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=i.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?t="scale"==this.options.shrink?(this.width=i.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",this.maxPosX+this.indicatorWidth-this.width):this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=i.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?e="scale"==this.options.shrink?(this.height=i.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",this.maxPosY+this.indicatorHeight-this.height):this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[o.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?i.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?i.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,s=t?0:300;t=t?"1":"0",this.wrapperStyle[o.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout((function(t){this.wrapperStyle.opacity=t,this.visible=+t}).bind(this,t),s)}}},n.utils=o,"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?(define((function(){return n})),void 0!==t&&(t.IScroll=n)):t.IScroll=n}(window,document,Math),function(t,e){t.fp_scrolloverflow=function(){t.IScroll||(t.IScroll=module.exports);var i="fp-scrollable",s="."+i,o=".fp-section",n=o+".active",r=".fp-tableCell";function a(){var i=this;function s(){var t;fp_utils.hasClass(e.body,"fp-responsive")?(t=i.options.scrollOverflowHandler,a((function(e){fp_utils.hasClass(fp_utils.closest(e,o),"fp-auto-height-responsive")&&t.remove(e)}))):a(n)}function n(t){if(!fp_utils.hasClass(t,"fp-noscroll")){fp_utils.css(t,{overflow:"hidden"});var e,s,n,a=i.options.scrollOverflowHandler,h=a.wrapContent(),c=fp_utils.closest(t,o),p=a.scrollable(t),d=(s=c,null!=(n=fp_utils.closest(s,o))?parseInt(getComputedStyle(n)["padding-bottom"])+parseInt(getComputedStyle(n)["padding-top"]):0);null!=p?e=a.scrollHeight(t):(e=t.scrollHeight,i.options.verticalCentered&&(e=l(r,t)[0].scrollHeight));var u=fp_utils.getWindowHeight(),f=u-d;u<e+d?null!=p?a.update(t,f):(i.options.verticalCentered?(fp_utils.wrapInner(l(r,t)[0],h.scroller),fp_utils.wrapInner(l(r,t)[0],h.scrollable)):(fp_utils.wrapInner(t,h.scroller),fp_utils.wrapInner(t,h.scrollable)),a.create(t,f,i.iscrollOptions)):a.remove(t),fp_utils.css(t,{overflow:""})}}function a(t){l(o).forEach((function(e){var i=l(".fp-slide",e);i.length?i.forEach((function(e){t(e)})):t(e)}))}i.options=null,i.init=function(o,n){return i.options=o,i.iscrollOptions=n,"complete"===e.readyState&&(s(),fullpage_api.shared.afterRenderActions()),t.addEventListener("load",(function(){s(),fullpage_api.shared.afterRenderActions()})),i},i.createScrollBarForAll=s,i.createScrollBar=n}IScroll.prototype.wheelOn=function(){this.wrapper.addEventListener("wheel",this),this.wrapper.addEventListener("mousewheel",this),this.wrapper.addEventListener("DOMMouseScroll",this)},IScroll.prototype.wheelOff=function(){this.wrapper.removeEventListener("wheel",this),this.wrapper.removeEventListener("mousewheel",this),this.wrapper.removeEventListener("DOMMouseScroll",this)};var l=null,h=null,c={refreshId:null,iScrollInstances:[],lastScrollY:null,hasBeenInit:!1,iscrollOptions:{scrollbars:!0,mouseWheel:!0,hideScrollbars:!1,fadeScrollbars:!1,disableMouse:!0,interactiveScrollbars:!0},init:function(e){l=fp_utils.$,h=e;var i="ontouchstart"in t||0<navigator.msMaxTouchPoints||navigator.maxTouchPoints;return c.iscrollOptions.click=i,c.hasBeenInit=!0,c.iscrollOptions=fp_utils.deepExtend(c.iscrollOptions,e.scrollOverflowOptions),(new a).init(e,c.iscrollOptions)},toggleWheel:function(t){l(s,l(n)[0]).forEach((function(e){var i=e.fp_iscrollInstance;null!=i&&(t?i.wheelOn():i.wheelOff())}))},setIscroll:function(t,e){if(c.hasBeenInit){var i=fp_utils.closest(t,s)||l(s,t)[0],o=e?"enable":"disable";i&&i.fp_iscrollInstance[o]()}},onLeave:function(){c.toggleWheel(!1)},beforeLeave:function(){c.onLeave()},afterLoad:function(){c.toggleWheel(!0)},create:function(t,e,i){l(s,t).forEach((function(s){fp_utils.css(s,{height:e+"px"});var n=s.fp_iscrollInstance;null!=n&&c.iScrollInstances.forEach((function(t){t.destroy()})),n=new IScroll(s,i),c.iScrollInstances.push(n),fp_utils.hasClass(fp_utils.closest(t,o),"active")||n.wheelOff(),s.fp_iscrollInstance=n}))},isScrolled:function(t,e){var i=e.fp_iscrollInstance;return!i||("top"===t?0<=i.y&&!fp_utils.getScrollTop(e):"bottom"===t?0-i.y+fp_utils.getScrollTop(e)+e.offsetHeight>=e.scrollHeight:void 0)},scrollable:function(t){return l(".fp-slides",t).length?l(s,l(".fp-slide.active",t)[0])[0]:l(s,t)[0]},scrollHeight:function(t){return l(".fp-scroller",l(s,t)[0])[0].scrollHeight},remove:function(t){if(null!=t){var e=l(s,t)[0];if(null!=e){var i=e.fp_iscrollInstance;null!=i&&i.destroy(),e.fp_iscrollInstance=null,fp_utils.unwrap(l(".fp-scroller",t)[0]),fp_utils.unwrap(l(s,t)[0])}}},update:function(t,e){clearTimeout(c.refreshId),c.refreshId=setTimeout((function(){c.iScrollInstances.forEach((function(t){t.refresh(),fullpage_api.silentMoveTo(fp_utils.index(l(n)[0])+1)}))}),150),fp_utils.css(l(s,t)[0],{height:e+"px"}),h.verticalCentered&&fp_utils.css(l(s,t)[0].parentNode,{height:e+"px"})},wrapContent:function(){var t=e.createElement("div");t.className=i;var s=e.createElement("div");return s.className="fp-scroller",{scrollable:t,scroller:s}}};return{iscrollHandler:c}}()}(window,document);